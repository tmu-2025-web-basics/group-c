/* リセット＆全体設定 */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { width: 100%; /*height: 100%; */
  overflow-x: hidden; /* 横スクロールを防ぐ */ }

/* 背景画像 */
body.indexpage {
    /* imagesフォルダにある場合 */
  /*background-image: url('./images/background.png');*/
  /*background-repeat: no-repeat;
  background-position: center center;*/
  background-attachment:scroll;
  /*background-size: cover;*/
  font-family: sans-serif;
  /*display: flex;
  flex-direction: column;*/
  padding-top: 4rem; /* ヘッダー上下の padding を合わせて、だいたい4rem程度に調整 */
  height:auto;
  background-image: 
  linear-gradient(to right, #333 1px, transparent 1px),
  linear-gradient(to bottom, #333 1px, transparent 1px);
  background-size: 70px 70px;
  background-color: #f8f8f8; /* 背景色（統一） */
  background-position: 0 0;
}
body.indexpage::after {
  content: '';
  position: absolute;
  top: 841px; /* 画面1つ分の高さから下を消す */
  left: 0;
  width: 100%;
  height: 824px; /* 残りの部分を覆う */
  background-color: #f8f8f8; /* グリッドなしの単色背景 */
  z-index: -1; /* 他の要素より下に d*/

  /*background-image: 
  linear-gradient(to right, #f5f6a2 1px, transparent 1px),
  linear-gradient(to bottom, #f5f6a2 1px, transparent 1px);
  background-size: 70px 70px;
  background-color: #bdbdbd; /* 背景色（統一） */
  /*background-position: 0 0;*/

}
body.indexpage::before {
  content: '';
  position: absolute;
  top: 1035px; /* 画面1つ分の高さから下を消す */
  left: 0;
  width: 100%;
  height: 280vh; /* 残りの部分を覆う */
  background-color: #f8f8f8; /* グリッドなしの単色背景 */
  z-index: -1; /* 他の要素より下に */
  height: 200vh;  
  background-image: 
  linear-gradient(to right, #333 1px, transparent 1px),
  linear-gradient(to bottom, #333 1px, transparent 1px);
  background-size: 70px 70px;
  background-color: #f8f8f8; /* 背景色（統一） */
  background-position: 0 0;
}
/* ヘッダー */
.site-header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  /* 既存のスタイルはそのまま */
  /*background: rgba(255,255,255,0.8);*/
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
}
.logo-button {
  font-size: 1rem;
  font-weight: bold;
  text-decoration: none;
  color: #333;
  border: 1px solid #333;        /* 四角の枠を追加 */
  padding: 0.2rem 0.7rem;         /* 内側の余白 */
  background-color:#ffffff;  /* 背景を少し白く */
  font-family: sans-serif;
}


/* ドアの左側の四角形 */
.left-text-box {
  position: absolute;
  top: 280px;        /* ドアと同じくらいの高さ */
  left: 0px;       /* ドアの左側に配置 */
  width: 351px;      /* 四角形の幅 */
  height: 71px;     /* 四角形の高さ */
  background-color: #f5f6a2; /* 半透明の白背景 */
  border: 1px solid #333;  /* 黒い枠線 */
  padding: 20px;     /* 内側の余白 */
  
  /* テキストスタイル */
  font-family: sans-serif;
  font-size: 4.7rem;
  color: #333;
  line-height: 1.5;
  
  /* 中央寄せ */
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}
.left-text-box-2 {
  position: absolute;
  top: 490px;        /* ドアと同じくらいの高さ */
  left: 70px;       /* ドアの左側に配置 */
  width: 351px;      /* 四角形の幅 */
  height: 71px;     /* 四角形の高さ */
  background-color: #f5f6a2; /* 半透明の白背景 */
  border: 1px solid #333;  /* 黒い枠線 */
  padding: 20px;     /* 内側の余白 */
  
  /* テキストスタイル */
  font-family: sans-serif;
  font-size: 4.7rem;
  color: #333;
  line-height: 1.5;
  
  /* 中央寄せ */
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}
.about{
  position: absolute; /* Added a valid value for the position property */
  top:970px;
  left: calc(100vw - 300px);
  background-color: #040404; 
  border:1px solid #333;
  width:170px;
  transition: left 0.3s ease;

  font-family: sans-serif;
  font-size: 2.5rem;
  color: #ffffff;
  line-height: 1.5;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}
.about-text {
  position: absolute; /* Added a valid value for the position property */
  top: 1070px;
  left: calc(100vw - 950px);
  width:920px;
  transition: left 0.3s ease, width 0.3s ease;
  
  font-family: "source-han-sans-japanese",sans-serif;
  font-size: 1.2rem;
  color: #333;
  line-height: 2;
  letter-spacing:0.15em;
  font-weight: bold;  
  
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: left;
}
/* about-text のレスポンシブ対応 */
@media (max-width: 1200px) {
  .about-text {
    left: calc(100vw - 620px);
    width: 580px;
    font-size: 1.1rem;
  }
}

@media (max-width: 708px) {
  .about-text {
    left: calc(100vw - 430px);
    font-size: 1rem;
    width:400px;
  }
}


/* メイン（ドアのグリッド） */
.door-container {
  flex: 1;
  padding: 2rem;
}
.row {
  display: flex;
  justify-content: center;
  margin-bottom: calc(2vw + 1rem);    /* 行間を画面サイズに応じて調整 */
  gap: calc(1.5vw + 0.5rem);   
  transition: gap 0.3s ease, margin-bottom 0.3s ease;         /* ドア間の隙間を画面サイズに応じて調整 */
  align-items: flex-start; /* 大きい画像を上揃えにして行全体を拡張 */
}

/* 全てのドア枠を画面サイズに応じて調整 */
.door-item {
  display: flex;              /* コンテンツを中央配置 */
  align-items: center;        /* 垂直方向中央揃え */
  justify-content: center;    /* 水平方向中央揃え */
  width: calc(20vw + 20px);  /* 固定幅を利用 */
  height: calc(27vw + 27px); /* 固定高さを利用 */
  overflow: hidden;           /* はみ出しを非表示 */
}
.door-item img {
  max-width: 100%;            /* コンテナ内に収まる最大幅 */
  max-height: 280px;          /* 画像の高さを280px以下に制限 */
  width: auto;                /* 自然な比率で縮小 */
  height: auto;               /* 自然な比率で縮小 */
  object-fit: contain;        /* アスペクト比を保持 */
  display: block;
}

/* hk & mermaid door 全画像表示用オーバーライド */
.door-item.large-img {
  width: calc(20vw + 20px) !important;  /* 他の扉サイズに合わせる */
  height: calc(27vw + 27px) !important; /* 他の扉サイズに合わせる */
  overflow: hidden !important;
}
.door-item.large-img img {
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
}

/* レスポンシブ対応 - 順序を修正 */
@media (max-width: 800px) {
  .door-item {
    height: auto; /* 高さを自動調整して画像全体を表示 */
  }

}
@media (min-width: 1100px) {
  .row {
    gap: calc(4.5vw + 1.5rem);     /* 現在の3倍：1.5vw→4.5vw、0.5rem→1.5rem */
    margin-bottom: calc(3vw + 1.5rem); /* 行間も3倍：2vw→6vw、1rem→3rem */
  }
}

/* 行ごとの配置を強制的に統一 */
.row-2 .door-item,
.row-3 .door-item {
  /* 上記のレスポンシブ設定を継承 */
  flex: none !important;
}

/* ドア画像スライダー */
.door-slider-wrapper {
  overflow: hidden;
  width: 100%;
  margin-bottom: 24rem; /* お好みの値に調整してください */
  margin-top: 79rem;
}
.door-slider {
  display: flex;
  will-change: transform;             /* ←追加 */
  backface-visibility: hidden;        /* ←追加 */
  transform: translate3d(0,0,0);      /* ←追加 */
  animation: slide-left 20s linear infinite;  /* 速度をゆっくりに */
}
.door-slider img {
  flex-shrink: 0;
  height: 200px; /* とりあえず固定高さで見えるか確認 */
  margin-right: 1rem;
}

/* シンプルな横スクロールアニメーション */
@keyframes slide-left {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); } 
}

.door-list{
  position: absolute; /* Added a valid value for the position property */
  top:1805px;
  left: 70px;
  background-color: #f8f8f8; 
  border:1px solid #333;
  width:281px;
  height:71px;
  font-family: sans-serif;
  font-size: 2.5rem;
  color: #000000;
  line-height: 1.5;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* スライダー上の大見出し */
.slider-title {
  font-family: "gloridot", sans-serif;
  font-weight: 400;
  font-style: normal;
  text-align: center;
  font-size: 5rem;     /* お好みで調整 */
  font-weight: bold;
  margin-bottom: 2rem;  /* スライダーとの間隔 */
  color: #333;          /* お好みで色を変更 */
  /* 4秒間で二回ポップし、最後は表示されたまま */
  animation: pop-twice 2s ease-in-out both;
}

/* Knock Knock! がページロード時に二回ポップアップするアニメーション */
@keyframes pop-twice {
  0%   { opacity: 0; transform: translateY(20px); }
  15%  { opacity: 1; transform: translateY(0); }
  30%  { opacity: 0; transform: translateY(20px); }
  45%  { opacity: 1; transform: translateY(0); }
  
}

/* フッター */
.site-footer {
  text-align: center;                      /* 文字色を白に */
  font-size: min(calc(0.5vw + 0.7rem), 1.2rem);        
  width: calc(30vw + 200px);             
  margin-top: 100px;  
  margin-bottom:80px;                    
  margin-left: auto;
  margin-right: auto;
  padding: 0.8rem 1rem;          
  font-family: "source-han-sans-japanese",sans-serif;  
  background: #f8f8f8;
  border:1px solid #333;
}
/* フッターテキスト（© 2025 Knock! Knock!） */
.footer-text {
  text-align: center;
  background: #000000;                    
  color: #ffffff;    
  font-size: min(calc(0.5vw + 0.7rem), 0.8rem);                
  width: 100vw;  
  margin: 0;  
  margin-bottom:0; 
  margin-left: calc(-50vw + 50%);                            
  padding: 0.5rem 1rem;             
  font-family: "source-han-sans-japanese",sans-serif;
}
.global-nav {
  width: 100%;
}
.global-nav ul {
  display: flex;
  list-style: none;
  gap: 0.3rem;
  justify-content: center;
}
.global-nav ul:first-child {
  margin-bottom: 0.5rem;                  /* 1行目と2行目の間だけに間隔 */
}
.global-nav li {
  flex: 0 0 auto;                       /* 幅を内容に合わせる */
  min-width: 4rem;                      /* 最小幅を統一 */
}
.global-nav a {
  text-decoration: none;
  color: #000000;                       /* 白文字に変更 */
  padding: 0.3rem 0.7rem 0.1rem 0.7rem;
  transition: border-color .2s;
  text-align: center;
  border-bottom: 1px solid transparent;  
}
.global-nav a:hover {
  border-bottom-color: #000000;           /* ホバー時に黒い下線 */
}


/* ドアをマウスホバーアニメーション */
@keyframes door-wobble {
  0%, 100% {
    transform: translateX(0) rotate(0);
  }
  20% {
    transform: translateX(-4px) rotate(-1deg);
  }
  40% {
    transform: translateX(4px) rotate(1deg);
  }
  60% {
    transform: translateX(-2px) rotate(-0.5deg);
  }
  80% {
    transform: translateX(2px) rotate(0.5deg);
  }
}

/* row-3 のドアをホバー時に揺らす */
.row-3 .door-item:hover img {
  animation: door-wobble 0.6s ease-in-out infinite;
}
.row-2 .door-item:hover img {
  animation: door-wobble 0.6s ease-in-out infinite;
}
/* ドア開閉アニメーション修正 */
.door-item {
  perspective: 800px;             /* 3D 奥行き */
  transform-style: preserve-3d;
}
.door-item a {
  display: block;
  transform-style: preserve-3d;
}
.door-item a img {
  backface-visibility: hidden;
  transform-origin: left center;  /* 左ヒンジを軸に開く（中央軸なら center center） */
  transition: transform 1s ease;
}
.door-item a.open img {
  transform: rotateY(-120deg);
}


